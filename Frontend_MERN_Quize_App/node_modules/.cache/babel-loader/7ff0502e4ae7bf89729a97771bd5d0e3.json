{"ast":null,"code":"import axios from\"axios\";import*as types from\"./actiontype.js\";// Action to fetch all user data\nexport const getAllUserDataFromBackend=()=>async dispatch=>{const token=localStorage.getItem(\"token\");dispatch({type:types.GET_ALL_USER_DATA_REQUEST});try{const response=await axios.get(\"http://localhost:4000/getuser\",{headers:{Authorization:`Bearer ${token}`}});dispatch({type:types.GET_ALL_USER_DATA_SUCCESS,payload:response.data// Pass the fetched user data\n});}catch(error){var _error$response,_error$response$data;dispatch({type:types.GET_ALL_USER_DATA_FAILURE,payload:((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||\"Error fetching user data\"});}};// Delete user by admin\nexport const deleteUserByAdmin=userId=>async dispatch=>{const token=localStorage.getItem(\"token\");try{await axios.delete(`http://localhost:4000/user/${userId}`,{headers:{Authorization:`Bearer ${token}`}});// Optionally, fetch updated user data after deletion\ndispatch(getAllUserDataFromBackend());}catch(error){var _error$response2,_error$response2$data;console.error(\"Error deleting user:\",(_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message);}};// Logout handler\nexport const Logouthandleraction=()=>dispatch=>{localStorage.removeItem(\"token\");dispatch({type:\"LOGOUTUSER\"});};// Login user actions\nexport const loginUser=userId=>({type:\"GETUSERID\",payload:userId});export const loginUserName=userName=>({type:\"GETUSERNAME\",payload:userName});// Login admin actions\nexport const loginAdminId=adminId=>({type:\"GETADMINID\",payload:adminId});export const loginAdminName=adminName=>({type:\"GETADMINNAME\",payload:adminName});","map":{"version":3,"names":["axios","types","getAllUserDataFromBackend","dispatch","token","localStorage","getItem","type","GET_ALL_USER_DATA_REQUEST","response","get","headers","Authorization","GET_ALL_USER_DATA_SUCCESS","payload","data","error","_error$response","_error$response$data","GET_ALL_USER_DATA_FAILURE","message","deleteUserByAdmin","userId","delete","_error$response2","_error$response2$data","console","Logouthandleraction","removeItem","loginUser","loginUserName","userName","loginAdminId","adminId","loginAdminName","adminName"],"sources":["C:/Users/RAGHAVENDRA/Downloads/MERN-Quiz-App-main/MERN-Quiz-App-main/Frontend_MERN_Quize_App/src/Redux/action.js"],"sourcesContent":["import axios from \"axios\";\nimport * as types from \"./actiontype.js\";\n\n// Action to fetch all user data\nexport const getAllUserDataFromBackend = () => async (dispatch) => {\n  const token = localStorage.getItem(\"token\");\n\n  dispatch({ type: types.GET_ALL_USER_DATA_REQUEST });\n\n  try {\n    const response = await axios.get(\"http://localhost:4000/getuser\", {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n\n    dispatch({\n      type: types.GET_ALL_USER_DATA_SUCCESS,\n      payload: response.data, // Pass the fetched user data\n    });\n  } catch (error) {\n    dispatch({\n      type: types.GET_ALL_USER_DATA_FAILURE,\n      payload: error.response?.data?.message || \"Error fetching user data\",\n    });\n  }\n};\n\n// Delete user by admin\nexport const deleteUserByAdmin = (userId) => async (dispatch) => {\n  const token = localStorage.getItem(\"token\");\n\n  try {\n    await axios.delete(`http://localhost:4000/user/${userId}`, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n\n    // Optionally, fetch updated user data after deletion\n    dispatch(getAllUserDataFromBackend());\n  } catch (error) {\n    console.error(\"Error deleting user:\", error.response?.data?.message);\n  }\n};\n\n// Logout handler\nexport const Logouthandleraction = () => (dispatch) => {\n  localStorage.removeItem(\"token\");\n\n  dispatch({\n    type: \"LOGOUTUSER\",\n  });\n};\n\n// Login user actions\nexport const loginUser = (userId) => ({\n  type: \"GETUSERID\",\n  payload: userId,\n});\n\nexport const loginUserName = (userName) => ({\n  type: \"GETUSERNAME\",\n  payload: userName,\n});\n\n// Login admin actions\nexport const loginAdminId = (adminId) => ({\n  type: \"GETADMINID\",\n  payload: adminId,\n});\n\nexport const loginAdminName = (adminName) => ({\n  type: \"GETADMINNAME\",\n  payload: adminName,\n});"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,GAAK,CAAAC,KAAK,KAAM,iBAAiB,CAExC;AACA,MAAO,MAAM,CAAAC,yBAAyB,CAAGA,CAAA,GAAM,KAAO,CAAAC,QAAQ,EAAK,CACjE,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAE3CH,QAAQ,CAAC,CAAEI,IAAI,CAAEN,KAAK,CAACO,yBAA0B,CAAC,CAAC,CAEnD,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAT,KAAK,CAACU,GAAG,CAAC,+BAA+B,CAAE,CAChEC,OAAO,CAAE,CACPC,aAAa,CAAE,UAAUR,KAAK,EAChC,CACF,CAAC,CAAC,CAEFD,QAAQ,CAAC,CACPI,IAAI,CAAEN,KAAK,CAACY,yBAAyB,CACrCC,OAAO,CAAEL,QAAQ,CAACM,IAAM;AAC1B,CAAC,CAAC,CACJ,CAAE,MAAOC,KAAK,CAAE,KAAAC,eAAA,CAAAC,oBAAA,CACdf,QAAQ,CAAC,CACPI,IAAI,CAAEN,KAAK,CAACkB,yBAAyB,CACrCL,OAAO,CAAE,EAAAG,eAAA,CAAAD,KAAK,CAACP,QAAQ,UAAAQ,eAAA,kBAAAC,oBAAA,CAAdD,eAAA,CAAgBF,IAAI,UAAAG,oBAAA,iBAApBA,oBAAA,CAAsBE,OAAO,GAAI,0BAC5C,CAAC,CAAC,CACJ,CACF,CAAC,CAED;AACA,MAAO,MAAM,CAAAC,iBAAiB,CAAIC,MAAM,EAAK,KAAO,CAAAnB,QAAQ,EAAK,CAC/D,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAE3C,GAAI,CACF,KAAM,CAAAN,KAAK,CAACuB,MAAM,CAAC,8BAA8BD,MAAM,EAAE,CAAE,CACzDX,OAAO,CAAE,CACPC,aAAa,CAAE,UAAUR,KAAK,EAChC,CACF,CAAC,CAAC,CAEF;AACAD,QAAQ,CAACD,yBAAyB,CAAC,CAAC,CAAC,CACvC,CAAE,MAAOc,KAAK,CAAE,KAAAQ,gBAAA,CAAAC,qBAAA,CACdC,OAAO,CAACV,KAAK,CAAC,sBAAsB,EAAAQ,gBAAA,CAAER,KAAK,CAACP,QAAQ,UAAAe,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBT,IAAI,UAAAU,qBAAA,iBAApBA,qBAAA,CAAsBL,OAAO,CAAC,CACtE,CACF,CAAC,CAED;AACA,MAAO,MAAM,CAAAO,mBAAmB,CAAGA,CAAA,GAAOxB,QAAQ,EAAK,CACrDE,YAAY,CAACuB,UAAU,CAAC,OAAO,CAAC,CAEhCzB,QAAQ,CAAC,CACPI,IAAI,CAAE,YACR,CAAC,CAAC,CACJ,CAAC,CAED;AACA,MAAO,MAAM,CAAAsB,SAAS,CAAIP,MAAM,GAAM,CACpCf,IAAI,CAAE,WAAW,CACjBO,OAAO,CAAEQ,MACX,CAAC,CAAC,CAEF,MAAO,MAAM,CAAAQ,aAAa,CAAIC,QAAQ,GAAM,CAC1CxB,IAAI,CAAE,aAAa,CACnBO,OAAO,CAAEiB,QACX,CAAC,CAAC,CAEF;AACA,MAAO,MAAM,CAAAC,YAAY,CAAIC,OAAO,GAAM,CACxC1B,IAAI,CAAE,YAAY,CAClBO,OAAO,CAAEmB,OACX,CAAC,CAAC,CAEF,MAAO,MAAM,CAAAC,cAAc,CAAIC,SAAS,GAAM,CAC5C5B,IAAI,CAAE,cAAc,CACpBO,OAAO,CAAEqB,SACX,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}