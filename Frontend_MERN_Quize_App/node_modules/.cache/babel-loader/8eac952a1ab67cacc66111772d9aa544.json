{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import axios from\"axios\";import{useSelector}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const Quizes=()=>{const{id}=useParams();// Capture quiz ID from URL\nconst navigate=useNavigate();// Use navigate for navigation\nconst userId=useSelector(state=>state.mernQuize.userId);// Get user ID from Redux store\nconst userName=useSelector(state=>state.mernQuize.userName);// Get user name from Redux store\nconst[quiz,setQuiz]=useState(null);const[error,setError]=useState(\"\");const[answers,setAnswers]=useState({});const[submitted,setSubmitted]=useState(false);useEffect(()=>{const fetchQuiz=async()=>{try{const response=await axios.get(`http://localhost:4000/quiz/${id}`);console.log(\"Fetched Quiz:\",response.data);// Debugging\nsetQuiz(response.data);}catch(error){var _error$response,_error$response$data;setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||\"Error fetching quiz data\");}};fetchQuiz();},[id]);const handleOptionChange=(questionIndex,optionText)=>{setAnswers(prev=>({...prev,[questionIndex]:optionText}));};const handleSubmit=()=>{console.log(\"User ID:\",userId);// Debugging\nconsole.log(\"User Name:\",userName);// Debugging\nif(Object.keys(answers).length!==quiz.questions.length){alert(\"Please answer all the questions before submitting.\");return;}setSubmitted(true);navigate(\"/quiz-results\",{state:{quiz,answers,user:{id:userId,name:userName}}});};if(error)return/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:error});if(!quiz)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading quiz data...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-6\",children:quiz.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mb-4\",children:[\"Difficulty: \",quiz.difficulty]}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"Questions:\"}),quiz.questions&&quiz.questions.length>0?quiz.questions.map((question,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8 p-4 bg-white shadow-lg rounded-lg\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold\",children:[index+1,\". \",question.title]}),/*#__PURE__*/_jsx(\"ul\",{className:\"mt-4\",children:question.options.map((option,i)=>/*#__PURE__*/_jsx(\"li\",{className:\"text-gray-700\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:`question-${index}`,value:option.text,checked:answers[index]===option.text,onChange:()=>handleOptionChange(index,option.text),className:\"mr-2\"}),option.text]})},i))})]},index)):/*#__PURE__*/_jsx(\"p\",{children:\"No questions available for this quiz.\"}),!submitted&&/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,className:\"mt-6 bg-teal-500 text-white px-4 py-2 rounded\",children:\"Submit Quiz\"})]});};","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","axios","useSelector","jsx","_jsx","jsxs","_jsxs","Quizes","id","navigate","userId","state","mernQuize","userName","quiz","setQuiz","error","setError","answers","setAnswers","submitted","setSubmitted","fetchQuiz","response","get","console","log","data","_error$response","_error$response$data","message","handleOptionChange","questionIndex","optionText","prev","handleSubmit","Object","keys","length","questions","alert","user","name","className","children","title","difficulty","map","question","index","options","option","i","type","value","text","checked","onChange","onClick"],"sources":["C:/Users/RAGHAVENDRA/Downloads/MERN-Quiz-App-main/MERN-Quiz-App-main/Frontend_MERN_Quize_App/src/Pages/Quizes.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nexport const Quizes = () => {\r\n  const { id } = useParams(); // Capture quiz ID from URL\r\n  const navigate = useNavigate(); // Use navigate for navigation\r\n  const userId = useSelector((state) => state.mernQuize.userId); // Get user ID from Redux store\r\n  const userName = useSelector((state) => state.mernQuize.userName); // Get user name from Redux store\r\n  const [quiz, setQuiz] = useState(null);\r\n  const [error, setError] = useState(\"\");\r\n  const [answers, setAnswers] = useState({});\r\n  const [submitted, setSubmitted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchQuiz = async () => {\r\n      try {\r\n        const response = await axios.get(`http://localhost:4000/quiz/${id}`);\r\n        console.log(\"Fetched Quiz:\", response.data); // Debugging\r\n        setQuiz(response.data);\r\n      } catch (error) {\r\n        setError(error.response?.data?.message || \"Error fetching quiz data\");\r\n      }\r\n    };\r\n\r\n    fetchQuiz();\r\n  }, [id]);\r\n\r\n  const handleOptionChange = (questionIndex, optionText) => {\r\n    setAnswers((prev) => ({\r\n      ...prev,\r\n      [questionIndex]: optionText,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    console.log(\"User ID:\", userId); // Debugging\r\n    console.log(\"User Name:\", userName); // Debugging\r\n\r\n    if (Object.keys(answers).length !== quiz.questions.length) {\r\n      alert(\"Please answer all the questions before submitting.\");\r\n      return;\r\n    }\r\n    setSubmitted(true);\r\n    navigate(\"/quiz-results\", { state: { quiz, answers, user: { id: userId, name: userName } } });\r\n  };\r\n\r\n  if (error) return <p className=\"text-red-500\">{error}</p>;\r\n  if (!quiz) return <p>Loading quiz data...</p>;\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-8\">\r\n      <h1 className=\"text-3xl font-bold mb-6\">{quiz.title}</h1>\r\n      <p className=\"text-gray-600 mb-4\">Difficulty: {quiz.difficulty}</p>\r\n      <h2 className=\"text-xl font-bold mb-4\">Questions:</h2>\r\n\r\n      {quiz.questions && quiz.questions.length > 0 ? (\r\n        quiz.questions.map((question, index) => (\r\n          <div key={index} className=\"mb-8 p-4 bg-white shadow-lg rounded-lg\">\r\n            <h3 className=\"text-lg font-semibold\">{index + 1}. {question.title}</h3>\r\n            <ul className=\"mt-4\">\r\n              {question.options.map((option, i) => (\r\n                <li key={i} className=\"text-gray-700\">\r\n                  <label>\r\n                    <input\r\n                      type=\"radio\"\r\n                      name={`question-${index}`}\r\n                      value={option.text}\r\n                      checked={answers[index] === option.text}\r\n                      onChange={() => handleOptionChange(index, option.text)}\r\n                      className=\"mr-2\"\r\n                    />\r\n                    {option.text}\r\n                  </label>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        ))\r\n      ) : (\r\n        <p>No questions available for this quiz.</p>\r\n      )}\r\n\r\n      {!submitted && (\r\n        <button\r\n          onClick={handleSubmit}\r\n          className=\"mt-6 bg-teal-500 text-white px-4 py-2 rounded\"\r\n        >\r\n          Submit Quiz\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1C,MAAO,MAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAAEC,EAAG,CAAC,CAAGT,SAAS,CAAC,CAAC,CAAE;AAC5B,KAAM,CAAAU,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAAE;AAChC,KAAM,CAAAU,MAAM,CAAGR,WAAW,CAAES,KAAK,EAAKA,KAAK,CAACC,SAAS,CAACF,MAAM,CAAC,CAAE;AAC/D,KAAM,CAAAG,QAAQ,CAAGX,WAAW,CAAES,KAAK,EAAKA,KAAK,CAACC,SAAS,CAACC,QAAQ,CAAC,CAAE;AACnE,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGjB,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACkB,KAAK,CAAEC,QAAQ,CAAC,CAAGnB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACoB,OAAO,CAAEC,UAAU,CAAC,CAAGrB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAC1C,KAAM,CAACsB,SAAS,CAAEC,YAAY,CAAC,CAAGvB,QAAQ,CAAC,KAAK,CAAC,CAEjDD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAyB,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAtB,KAAK,CAACuB,GAAG,CAAC,8BAA8BhB,EAAE,EAAE,CAAC,CACpEiB,OAAO,CAACC,GAAG,CAAC,eAAe,CAAEH,QAAQ,CAACI,IAAI,CAAC,CAAE;AAC7CZ,OAAO,CAACQ,QAAQ,CAACI,IAAI,CAAC,CACxB,CAAE,MAAOX,KAAK,CAAE,KAAAY,eAAA,CAAAC,oBAAA,CACdZ,QAAQ,CAAC,EAAAW,eAAA,CAAAZ,KAAK,CAACO,QAAQ,UAAAK,eAAA,kBAAAC,oBAAA,CAAdD,eAAA,CAAgBD,IAAI,UAAAE,oBAAA,iBAApBA,oBAAA,CAAsBC,OAAO,GAAI,0BAA0B,CAAC,CACvE,CACF,CAAC,CAEDR,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,CAACd,EAAE,CAAC,CAAC,CAER,KAAM,CAAAuB,kBAAkB,CAAGA,CAACC,aAAa,CAAEC,UAAU,GAAK,CACxDd,UAAU,CAAEe,IAAI,GAAM,CACpB,GAAGA,IAAI,CACP,CAACF,aAAa,EAAGC,UACnB,CAAC,CAAC,CAAC,CACL,CAAC,CAED,KAAM,CAAAE,YAAY,CAAGA,CAAA,GAAM,CACzBV,OAAO,CAACC,GAAG,CAAC,UAAU,CAAEhB,MAAM,CAAC,CAAE;AACjCe,OAAO,CAACC,GAAG,CAAC,YAAY,CAAEb,QAAQ,CAAC,CAAE;AAErC,GAAIuB,MAAM,CAACC,IAAI,CAACnB,OAAO,CAAC,CAACoB,MAAM,GAAKxB,IAAI,CAACyB,SAAS,CAACD,MAAM,CAAE,CACzDE,KAAK,CAAC,oDAAoD,CAAC,CAC3D,OACF,CACAnB,YAAY,CAAC,IAAI,CAAC,CAClBZ,QAAQ,CAAC,eAAe,CAAE,CAAEE,KAAK,CAAE,CAAEG,IAAI,CAAEI,OAAO,CAAEuB,IAAI,CAAE,CAAEjC,EAAE,CAAEE,MAAM,CAAEgC,IAAI,CAAE7B,QAAS,CAAE,CAAE,CAAC,CAAC,CAC/F,CAAC,CAED,GAAIG,KAAK,CAAE,mBAAOZ,IAAA,MAAGuC,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAE5B,KAAK,CAAI,CAAC,CACzD,GAAI,CAACF,IAAI,CAAE,mBAAOV,IAAA,MAAAwC,QAAA,CAAG,sBAAoB,CAAG,CAAC,CAE7C,mBACEtC,KAAA,QAAKqC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACpCxC,IAAA,OAAIuC,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAE9B,IAAI,CAAC+B,KAAK,CAAK,CAAC,cACzDvC,KAAA,MAAGqC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,EAAC,cAAY,CAAC9B,IAAI,CAACgC,UAAU,EAAI,CAAC,cACnE1C,IAAA,OAAIuC,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAC,YAAU,CAAI,CAAC,CAErD9B,IAAI,CAACyB,SAAS,EAAIzB,IAAI,CAACyB,SAAS,CAACD,MAAM,CAAG,CAAC,CAC1CxB,IAAI,CAACyB,SAAS,CAACQ,GAAG,CAAC,CAACC,QAAQ,CAAEC,KAAK,gBACjC3C,KAAA,QAAiBqC,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACjEtC,KAAA,OAAIqC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAEK,KAAK,CAAG,CAAC,CAAC,IAAE,CAACD,QAAQ,CAACH,KAAK,EAAK,CAAC,cACxEzC,IAAA,OAAIuC,SAAS,CAAC,MAAM,CAAAC,QAAA,CACjBI,QAAQ,CAACE,OAAO,CAACH,GAAG,CAAC,CAACI,MAAM,CAAEC,CAAC,gBAC9BhD,IAAA,OAAYuC,SAAS,CAAC,eAAe,CAAAC,QAAA,cACnCtC,KAAA,UAAAsC,QAAA,eACExC,IAAA,UACEiD,IAAI,CAAC,OAAO,CACZX,IAAI,CAAE,YAAYO,KAAK,EAAG,CAC1BK,KAAK,CAAEH,MAAM,CAACI,IAAK,CACnBC,OAAO,CAAEtC,OAAO,CAAC+B,KAAK,CAAC,GAAKE,MAAM,CAACI,IAAK,CACxCE,QAAQ,CAAEA,CAAA,GAAM1B,kBAAkB,CAACkB,KAAK,CAAEE,MAAM,CAACI,IAAI,CAAE,CACvDZ,SAAS,CAAC,MAAM,CACjB,CAAC,CACDQ,MAAM,CAACI,IAAI,EACP,CAAC,EAXDH,CAYL,CACL,CAAC,CACA,CAAC,GAlBGH,KAmBL,CACN,CAAC,cAEF7C,IAAA,MAAAwC,QAAA,CAAG,uCAAqC,CAAG,CAC5C,CAEA,CAACxB,SAAS,eACThB,IAAA,WACEsD,OAAO,CAAEvB,YAAa,CACtBQ,SAAS,CAAC,+CAA+C,CAAAC,QAAA,CAC1D,aAED,CAAQ,CACT,EACE,CAAC,CAEV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}