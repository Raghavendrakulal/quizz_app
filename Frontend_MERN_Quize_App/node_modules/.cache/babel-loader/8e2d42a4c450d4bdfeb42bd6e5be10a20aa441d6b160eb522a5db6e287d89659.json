{"ast":null,"code":"import axios from\"axios\";import*as types from\"./actiontype.js\";import{toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";// Fetch all users\nexport const getAllUserDataFromBackend=()=>async dispatch=>{const token=localStorage.getItem(\"token\");dispatch({type:types.GET_ALL_USER_DATA_REQUEST});try{const response=await axios.get(\"http://localhost:4000/getuser\",{headers:{Authorization:`Bearer ${token}`}});dispatch({type:types.GET_ALL_USER_DATA_SUCCESS,payload:response.data});}catch(error){var _error$response,_error$response$data;dispatch({type:types.GET_ALL_USER_DATA_FAILURE,payload:((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||\"Error fetching user data\"});}};//pormote\nexport const promoteUserToAdmin=userId=>async dispatch=>{const token=localStorage.getItem(\"token\");try{const response=await axios.patch(`http://localhost:4000/user/${userId}/promote`,{},{headers:{Authorization:`Bearer ${token}`}});dispatch(getAllUserDataFromBackend());toast.success(\"User promoted to Admin successfully\");}catch(error){var _error$response2,_error$response2$data;console.error(\"Error promoting user:\",((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||error.message);toast.error(\"Unable to promote the User\");}};// Delete user by admin\nexport const deleteUserByAdmin=userId=>async dispatch=>{const token=localStorage.getItem(\"token\");try{await axios.delete(`http://localhost:4000/user/${userId}`,{headers:{Authorization:`Bearer ${token}`}});dispatch(getAllUserDataFromBackend());}catch(error){var _error$response3,_error$response3$data;console.error(\"Error deleting user:\",(_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message);}};// Logout handler\nexport const Logouthandleraction=()=>dispatch=>{localStorage.removeItem(\"token\");dispatch({type:\"LOGOUTUSER\"});};// Login user actions\nexport const loginUser=userId=>({type:\"GETUSERID\",payload:userId});export const loginUserName=userName=>({type:\"GETUSERNAME\",payload:userName});// Login admin actions\nexport const loginAdminId=adminId=>({type:\"GETADMINID\",payload:adminId});export const loginAdminName=adminName=>({type:\"GETADMINNAME\",payload:adminName});","map":{"version":3,"names":["axios","types","toast","getAllUserDataFromBackend","dispatch","token","localStorage","getItem","type","GET_ALL_USER_DATA_REQUEST","response","get","headers","Authorization","GET_ALL_USER_DATA_SUCCESS","payload","data","error","_error$response","_error$response$data","GET_ALL_USER_DATA_FAILURE","message","promoteUserToAdmin","userId","patch","success","_error$response2","_error$response2$data","console","deleteUserByAdmin","delete","_error$response3","_error$response3$data","Logouthandleraction","removeItem","loginUser","loginUserName","userName","loginAdminId","adminId","loginAdminName","adminName"],"sources":["C:/Users/RAGHAVENDRA/Downloads/MERN-Quiz-App-main/MERN-Quiz-App-main/Frontend_MERN_Quize_App/src/Redux/action.js"],"sourcesContent":["import axios from \"axios\";\nimport * as types from \"./actiontype.js\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\n// Fetch all users\nexport const getAllUserDataFromBackend = () => async (dispatch) => {\n  const token = localStorage.getItem(\"token\");\n\n  dispatch({ type: types.GET_ALL_USER_DATA_REQUEST });\n\n  try {\n    const response = await axios.get(\"http://localhost:4000/getuser\", {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n\n    dispatch({\n      type: types.GET_ALL_USER_DATA_SUCCESS,\n      payload: response.data,\n    });\n  } catch (error) {\n    dispatch({\n      type: types.GET_ALL_USER_DATA_FAILURE,\n      payload: error.response?.data?.message || \"Error fetching user data\",\n    });\n  }\n};\n//pormote\nexport const promoteUserToAdmin = (userId) => async (dispatch) => {\n  const token = localStorage.getItem(\"token\");\n\n  try {\n    const response = await axios.patch(\n      `http://localhost:4000/user/${userId}/promote`,\n      {},\n      {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      }\n    );\n\n    dispatch(getAllUserDataFromBackend());\n    toast.success(\"User promoted to Admin successfully\");\n  } catch (error) {\n    console.error(\"Error promoting user:\", error.response?.data?.message || error.message);\n    toast.error(\"Unable to promote the User\");\n  }\n};\n\n// Delete user by admin\nexport const deleteUserByAdmin = (userId) => async (dispatch) => {\n  const token = localStorage.getItem(\"token\");\n\n  try {\n    await axios.delete(`http://localhost:4000/user/${userId}`, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n\n    dispatch(getAllUserDataFromBackend());\n  } catch (error) {\n    console.error(\"Error deleting user:\", error.response?.data?.message);\n  }\n};\n\n\n// Logout handler\nexport const Logouthandleraction = () => (dispatch) => {\n  localStorage.removeItem(\"token\");\n\n  dispatch({\n    type: \"LOGOUTUSER\",\n  });\n};\n\n// Login user actions\nexport const loginUser = (userId) => ({\n  type: \"GETUSERID\",\n  payload: userId,\n});\n\nexport const loginUserName = (userName) => ({\n  type: \"GETUSERNAME\",\n  payload: userName,\n});\n\n// Login admin actions\nexport const loginAdminId = (adminId) => ({\n  type: \"GETADMINID\",\n  payload: adminId,\n});\n\nexport const loginAdminName = (adminName) => ({\n  type: \"GETADMINNAME\",\n  payload: adminName,\n});"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,GAAK,CAAAC,KAAK,KAAM,iBAAiB,CACxC,OAASC,KAAK,KAAQ,gBAAgB,CACtC,MAAO,uCAAuC,CAE9C;AACA,MAAO,MAAM,CAAAC,yBAAyB,CAAGA,CAAA,GAAM,KAAO,CAAAC,QAAQ,EAAK,CACjE,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAE3CH,QAAQ,CAAC,CAAEI,IAAI,CAAEP,KAAK,CAACQ,yBAA0B,CAAC,CAAC,CAEnD,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAV,KAAK,CAACW,GAAG,CAAC,+BAA+B,CAAE,CAChEC,OAAO,CAAE,CACPC,aAAa,CAAE,UAAUR,KAAK,EAChC,CACF,CAAC,CAAC,CAEFD,QAAQ,CAAC,CACPI,IAAI,CAAEP,KAAK,CAACa,yBAAyB,CACrCC,OAAO,CAAEL,QAAQ,CAACM,IACpB,CAAC,CAAC,CACJ,CAAE,MAAOC,KAAK,CAAE,KAAAC,eAAA,CAAAC,oBAAA,CACdf,QAAQ,CAAC,CACPI,IAAI,CAAEP,KAAK,CAACmB,yBAAyB,CACrCL,OAAO,CAAE,EAAAG,eAAA,CAAAD,KAAK,CAACP,QAAQ,UAAAQ,eAAA,kBAAAC,oBAAA,CAAdD,eAAA,CAAgBF,IAAI,UAAAG,oBAAA,iBAApBA,oBAAA,CAAsBE,OAAO,GAAI,0BAC5C,CAAC,CAAC,CACJ,CACF,CAAC,CACD;AACA,MAAO,MAAM,CAAAC,kBAAkB,CAAIC,MAAM,EAAK,KAAO,CAAAnB,QAAQ,EAAK,CAChE,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAE3C,GAAI,CACF,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAAV,KAAK,CAACwB,KAAK,CAChC,8BAA8BD,MAAM,UAAU,CAC9C,CAAC,CAAC,CACF,CACEX,OAAO,CAAE,CACPC,aAAa,CAAE,UAAUR,KAAK,EAChC,CACF,CACF,CAAC,CAEDD,QAAQ,CAACD,yBAAyB,CAAC,CAAC,CAAC,CACrCD,KAAK,CAACuB,OAAO,CAAC,qCAAqC,CAAC,CACtD,CAAE,MAAOR,KAAK,CAAE,KAAAS,gBAAA,CAAAC,qBAAA,CACdC,OAAO,CAACX,KAAK,CAAC,uBAAuB,CAAE,EAAAS,gBAAA,CAAAT,KAAK,CAACP,QAAQ,UAAAgB,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBV,IAAI,UAAAW,qBAAA,iBAApBA,qBAAA,CAAsBN,OAAO,GAAIJ,KAAK,CAACI,OAAO,CAAC,CACtFnB,KAAK,CAACe,KAAK,CAAC,4BAA4B,CAAC,CAC3C,CACF,CAAC,CAED;AACA,MAAO,MAAM,CAAAY,iBAAiB,CAAIN,MAAM,EAAK,KAAO,CAAAnB,QAAQ,EAAK,CAC/D,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAE3C,GAAI,CACF,KAAM,CAAAP,KAAK,CAAC8B,MAAM,CAAC,8BAA8BP,MAAM,EAAE,CAAE,CACzDX,OAAO,CAAE,CACPC,aAAa,CAAE,UAAUR,KAAK,EAChC,CACF,CAAC,CAAC,CAEFD,QAAQ,CAACD,yBAAyB,CAAC,CAAC,CAAC,CACvC,CAAE,MAAOc,KAAK,CAAE,KAAAc,gBAAA,CAAAC,qBAAA,CACdJ,OAAO,CAACX,KAAK,CAAC,sBAAsB,EAAAc,gBAAA,CAAEd,KAAK,CAACP,QAAQ,UAAAqB,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBf,IAAI,UAAAgB,qBAAA,iBAApBA,qBAAA,CAAsBX,OAAO,CAAC,CACtE,CACF,CAAC,CAGD;AACA,MAAO,MAAM,CAAAY,mBAAmB,CAAGA,CAAA,GAAO7B,QAAQ,EAAK,CACrDE,YAAY,CAAC4B,UAAU,CAAC,OAAO,CAAC,CAEhC9B,QAAQ,CAAC,CACPI,IAAI,CAAE,YACR,CAAC,CAAC,CACJ,CAAC,CAED;AACA,MAAO,MAAM,CAAA2B,SAAS,CAAIZ,MAAM,GAAM,CACpCf,IAAI,CAAE,WAAW,CACjBO,OAAO,CAAEQ,MACX,CAAC,CAAC,CAEF,MAAO,MAAM,CAAAa,aAAa,CAAIC,QAAQ,GAAM,CAC1C7B,IAAI,CAAE,aAAa,CACnBO,OAAO,CAAEsB,QACX,CAAC,CAAC,CAEF;AACA,MAAO,MAAM,CAAAC,YAAY,CAAIC,OAAO,GAAM,CACxC/B,IAAI,CAAE,YAAY,CAClBO,OAAO,CAAEwB,OACX,CAAC,CAAC,CAEF,MAAO,MAAM,CAAAC,cAAc,CAAIC,SAAS,GAAM,CAC5CjC,IAAI,CAAE,cAAc,CACpBO,OAAO,CAAE0B,SACX,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}