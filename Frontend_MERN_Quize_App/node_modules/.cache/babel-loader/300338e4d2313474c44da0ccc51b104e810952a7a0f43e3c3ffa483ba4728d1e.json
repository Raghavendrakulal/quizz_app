{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Leaderboard=()=>{const[results,setResults]=useState([]);const[category,setCategory]=useState(\"\");const[categories,setCategories]=useState([]);useEffect(()=>{const fetchCategories=async()=>{try{const response=await axios.get(\"http://localhost:4000/quiz/categories\");console.log(\"Fetched categories:\",response.data);// Debugging\nsetCategories(response.data);}catch(error){console.error(\"Error fetching categories:\",error);}};fetchCategories();},[]);useEffect(()=>{const fetchResults=async()=>{try{console.log(\"Fetching leaderboard data for category:\",category);// Debugging\nconst response=await axios.get(\"http://localhost:4000/quiz/leaderboard\",{params:{category}});console.log(\"Fetched leaderboard data:\",response.data);// Debugging\n// Sort results by percentage in descending order\nconst sortedResults=response.data.sort((a,b)=>b.percentage-a.percentage);setResults(sortedResults);}catch(error){console.error(\"Error fetching leaderboard data:\",error);}};fetchResults();},[category]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-6\",children:\"Leaderboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"mr-2\",children:\"Filter by category:\"}),/*#__PURE__*/_jsxs(\"select\",{value:category,onChange:e=>setCategory(e.target.value),className:\"p-2 border rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All\"}),categories.map(cat=>/*#__PURE__*/_jsx(\"option\",{value:cat,children:cat},cat))]})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full bg-white\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border-b\",children:\"Rank\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border-b\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border-b\",children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border-b\",children:\"Percentage\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:results.map((result,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border-b\",children:index+1}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border-b\",children:result.userName||\"N/A\"}),\" \",/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border-b\",children:result.category}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-2 px-4 border-b\",children:[result.percentage,\"%\"]})]},result._id))})]})]});};export default Leaderboard;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Leaderboard","results","setResults","category","setCategory","categories","setCategories","fetchCategories","response","get","console","log","data","error","fetchResults","params","sortedResults","sort","a","b","percentage","className","children","value","onChange","e","target","map","cat","result","index","userName","_id"],"sources":["C:/Users/RAGHAVENDRA/Downloads/MERN-Quiz-App-main/MERN-Quiz-App-main/Frontend_MERN_Quize_App/src/Pages/Leaderboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst Leaderboard = () => {\r\n  const [results, setResults] = useState([]);\r\n  const [category, setCategory] = useState(\"\");\r\n  const [categories, setCategories] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchCategories = async () => {\r\n      try {\r\n        const response = await axios.get(\"http://localhost:4000/quiz/categories\");\r\n        console.log(\"Fetched categories:\", response.data); // Debugging\r\n        setCategories(response.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching categories:\", error);\r\n      }\r\n    };\r\n\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const fetchResults = async () => {\r\n      try {\r\n        console.log(\"Fetching leaderboard data for category:\", category); // Debugging\r\n        const response = await axios.get(\"http://localhost:4000/quiz/leaderboard\", {\r\n          params: { category },\r\n        });\r\n        console.log(\"Fetched leaderboard data:\", response.data); // Debugging\r\n\r\n        // Sort results by percentage in descending order\r\n        const sortedResults = response.data.sort((a, b) => b.percentage - a.percentage);\r\n        setResults(sortedResults);\r\n      } catch (error) {\r\n        console.error(\"Error fetching leaderboard data:\", error);\r\n      }\r\n    };\r\n\r\n    fetchResults();\r\n  }, [category]);\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-8\">\r\n      <h1 className=\"text-3xl font-bold mb-6\">Leaderboard</h1>\r\n      <div className=\"mb-4\">\r\n        <label className=\"mr-2\">Filter by category:</label>\r\n        <select\r\n          value={category}\r\n          onChange={(e) => setCategory(e.target.value)}\r\n          className=\"p-2 border rounded\"\r\n        >\r\n          <option value=\"\">All</option>\r\n          {categories.map((cat) => (\r\n            <option key={cat} value={cat}>\r\n              {cat}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      <table className=\"min-w-full bg-white\">\r\n        <thead>\r\n          <tr>\r\n            <th className=\"py-2 px-4 border-b\">Rank</th>\r\n            <th className=\"py-2 px-4 border-b\">Name</th>\r\n            <th className=\"py-2 px-4 border-b\">Category</th>\r\n            <th className=\"py-2 px-4 border-b\">Percentage</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {results.map((result, index) => (\r\n            <tr key={result._id}>\r\n              <td className=\"py-2 px-4 border-b\">{index + 1}</td>\r\n              <td className=\"py-2 px-4 border-b\">{result.userName || \"N/A\"}</td> {/* Access userName */}\r\n              <td className=\"py-2 px-4 border-b\">{result.category}</td>\r\n              <td className=\"py-2 px-4 border-b\">{result.percentage}%</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Leaderboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}