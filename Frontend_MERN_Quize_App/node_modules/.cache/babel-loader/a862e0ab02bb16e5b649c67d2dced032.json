{"ast":null,"code":"import axios from \"axios\";\nimport * as types from \"./actiontype.js\";\n\n// Fetch all users\nexport const getAllUserDataFromBackend = () => async dispatch => {\n  const token = localStorage.getItem(\"token\");\n  dispatch({\n    type: types.GET_ALL_USER_DATA_REQUEST\n  });\n  try {\n    const response = await axios.get(\"http://localhost:4000/getuser\", {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    dispatch({\n      type: types.GET_ALL_USER_DATA_SUCCESS,\n      payload: response.data\n    });\n  } catch (error) {\n    var _error$response, _error$response$data;\n    dispatch({\n      type: types.GET_ALL_USER_DATA_FAILURE,\n      payload: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || \"Error fetching user data\"\n    });\n  }\n};\n//pormote\nexport const promoteUserToAdmin = userId => async dispatch => {\n  const token = localStorage.getItem(\"token\");\n  try {\n    console.log(\"Promoting user with ID:\", userId); // Debugging\n\n    const response = await axios.patch(`http://localhost:4000/admin/user/${userId}/promote`, {}, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    dispatch(getAllUserDataFromBackend());\n    console.log(\"User promoted to admin:\", response.data);\n  } catch (error) {\n    var _error$response2, _error$response2$data;\n    console.error(\"Error promoting user:\", ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || error.message);\n  }\n};\n\n// Delete user by admin\nexport const deleteUserByAdmin = userId => async dispatch => {\n  const token = localStorage.getItem(\"token\");\n  try {\n    await axios.delete(`http://localhost:4000/user/${userId}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    dispatch(getAllUserDataFromBackend());\n  } catch (error) {\n    var _error$response3, _error$response3$data;\n    console.error(\"Error deleting user:\", (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message);\n  }\n};\n\n// Logout handler\nexport const Logouthandleraction = () => dispatch => {\n  localStorage.removeItem(\"token\");\n  dispatch({\n    type: \"LOGOUTUSER\"\n  });\n};\n\n// Login user actions\nexport const loginUser = userId => ({\n  type: \"GETUSERID\",\n  payload: userId\n});\nexport const loginUserName = userName => ({\n  type: \"GETUSERNAME\",\n  payload: userName\n});\n\n// Login admin actions\nexport const loginAdminId = adminId => ({\n  type: \"GETADMINID\",\n  payload: adminId\n});\nexport const loginAdminName = adminName => ({\n  type: \"GETADMINNAME\",\n  payload: adminName\n});","map":{"version":3,"names":["axios","types","getAllUserDataFromBackend","dispatch","token","localStorage","getItem","type","GET_ALL_USER_DATA_REQUEST","response","get","headers","Authorization","GET_ALL_USER_DATA_SUCCESS","payload","data","error","_error$response","_error$response$data","GET_ALL_USER_DATA_FAILURE","message","promoteUserToAdmin","userId","console","log","patch","_error$response2","_error$response2$data","deleteUserByAdmin","delete","_error$response3","_error$response3$data","Logouthandleraction","removeItem","loginUser","loginUserName","userName","loginAdminId","adminId","loginAdminName","adminName"],"sources":["C:/Users/RAGHAVENDRA/Downloads/MERN-Quiz-App-main/MERN-Quiz-App-main/Frontend_MERN_Quize_App/src/Redux/action.js"],"sourcesContent":["import axios from \"axios\";\nimport * as types from \"./actiontype.js\";\n\n// Fetch all users\nexport const getAllUserDataFromBackend = () => async (dispatch) => {\n  const token = localStorage.getItem(\"token\");\n\n  dispatch({ type: types.GET_ALL_USER_DATA_REQUEST });\n\n  try {\n    const response = await axios.get(\"http://localhost:4000/getuser\", {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n\n    dispatch({\n      type: types.GET_ALL_USER_DATA_SUCCESS,\n      payload: response.data,\n    });\n  } catch (error) {\n    dispatch({\n      type: types.GET_ALL_USER_DATA_FAILURE,\n      payload: error.response?.data?.message || \"Error fetching user data\",\n    });\n  }\n};\n//pormote\nexport const promoteUserToAdmin = (userId) => async (dispatch) => {\n  const token = localStorage.getItem(\"token\");\n\n  try {\n    console.log(\"Promoting user with ID:\", userId); // Debugging\n\n    const response = await axios.patch(\n      `http://localhost:4000/admin/user/${userId}/promote`,\n      {},\n      {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      }\n    );\n\n    dispatch(getAllUserDataFromBackend());\n    console.log(\"User promoted to admin:\", response.data);\n  } catch (error) {\n    console.error(\"Error promoting user:\", error.response?.data?.message || error.message);\n  }\n};\n\n// Delete user by admin\nexport const deleteUserByAdmin = (userId) => async (dispatch) => {\n  const token = localStorage.getItem(\"token\");\n\n  try {\n    await axios.delete(`http://localhost:4000/user/${userId}`, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n\n    dispatch(getAllUserDataFromBackend());\n  } catch (error) {\n    console.error(\"Error deleting user:\", error.response?.data?.message);\n  }\n};\n\n\n// Logout handler\nexport const Logouthandleraction = () => (dispatch) => {\n  localStorage.removeItem(\"token\");\n\n  dispatch({\n    type: \"LOGOUTUSER\",\n  });\n};\n\n// Login user actions\nexport const loginUser = (userId) => ({\n  type: \"GETUSERID\",\n  payload: userId,\n});\n\nexport const loginUserName = (userName) => ({\n  type: \"GETUSERNAME\",\n  payload: userName,\n});\n\n// Login admin actions\nexport const loginAdminId = (adminId) => ({\n  type: \"GETADMINID\",\n  payload: adminId,\n});\n\nexport const loginAdminName = (adminName) => ({\n  type: \"GETADMINNAME\",\n  payload: adminName,\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}