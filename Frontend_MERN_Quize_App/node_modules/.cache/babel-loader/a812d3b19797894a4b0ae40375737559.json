{"ast":null,"code":"import axios from \"axios\";\nimport * as types from \"./actiontype.js\";\n\n// Action to fetch all user data\nexport const getAllUserDataFromBackend = () => async dispatch => {\n  const token = localStorage.getItem(\"token\");\n  dispatch({\n    type: types.GET_ALL_USER_DATA_REQUEST\n  });\n  try {\n    const response = await axios.get(\"http://localhost:4000/getuser\", {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    dispatch({\n      type: types.GET_ALL_USER_DATA_SUCCESS,\n      payload: response.data // Pass the fetched user data\n    });\n  } catch (error) {\n    var _error$response, _error$response$data;\n    dispatch({\n      type: types.GET_ALL_USER_DATA_FAILURE,\n      payload: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || \"Error fetching user data\"\n    });\n  }\n};\n\n// Delete user by admin\nexport const deleteUserByAdmin = userId => async dispatch => {\n  const token = localStorage.getItem(\"token\");\n  try {\n    await axios.delete(`http://localhost:4000/user/${userId}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n\n    // Optionally, fetch updated user data after deletion\n    dispatch(getAllUserDataFromBackend());\n  } catch (error) {\n    var _error$response2, _error$response2$data;\n    console.error(\"Error deleting user:\", (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message);\n  }\n};\n\n// Delete a user\n// export const deleteUserByAdmin = (id) => async (dispatch) => {\n//   try {\n//     await axios.delete(`http://localhost:4000/admin/user/${id}`);\n//     dispatch({ type: \"DELETE_USER_SUCCESS\", payload: id });\n//   } catch (error) {\n//     console.error(\"Error deleting user:\", error);\n//   }\n// };\n\n// Logout handler\nexport const Logouthandleraction = () => dispatch => {\n  localStorage.removeItem(\"token\");\n  dispatch({\n    type: \"LOGOUTUSER\"\n  });\n};\n\n// Login user actions\nexport const loginUser = userId => ({\n  type: \"GETUSERID\",\n  payload: userId\n});\nexport const loginUserName = userName => ({\n  type: \"GETUSERNAME\",\n  payload: userName\n});\n\n// Login admin actions\nexport const loginAdminId = adminId => ({\n  type: \"GETADMINID\",\n  payload: adminId\n});\nexport const loginAdminName = adminName => ({\n  type: \"GETADMINNAME\",\n  payload: adminName\n});","map":{"version":3,"names":["axios","types","getAllUserDataFromBackend","dispatch","token","localStorage","getItem","type","GET_ALL_USER_DATA_REQUEST","response","get","headers","Authorization","GET_ALL_USER_DATA_SUCCESS","payload","data","error","_error$response","_error$response$data","GET_ALL_USER_DATA_FAILURE","message","deleteUserByAdmin","userId","delete","_error$response2","_error$response2$data","console","Logouthandleraction","removeItem","loginUser","loginUserName","userName","loginAdminId","adminId","loginAdminName","adminName"],"sources":["C:/Users/RAGHAVENDRA/Downloads/MERN-Quiz-App-main/MERN-Quiz-App-main/Frontend_MERN_Quize_App/src/Redux/action.js"],"sourcesContent":["import axios from \"axios\";\nimport * as types from \"./actiontype.js\";\n\n// Action to fetch all user data\nexport const getAllUserDataFromBackend = () => async (dispatch) => {\n  const token = localStorage.getItem(\"token\");\n\n  dispatch({ type: types.GET_ALL_USER_DATA_REQUEST });\n\n  try {\n    const response = await axios.get(\"http://localhost:4000/getuser\", {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n\n    dispatch({\n      type: types.GET_ALL_USER_DATA_SUCCESS,\n      payload: response.data, // Pass the fetched user data\n    });\n  } catch (error) {\n    dispatch({\n      type: types.GET_ALL_USER_DATA_FAILURE,\n      payload: error.response?.data?.message || \"Error fetching user data\",\n    });\n  }\n};\n\n// Delete user by admin\nexport const deleteUserByAdmin = (userId) => async (dispatch) => {\n  const token = localStorage.getItem(\"token\");\n\n  try {\n    await axios.delete(`http://localhost:4000/user/${userId}`, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n\n    // Optionally, fetch updated user data after deletion\n    dispatch(getAllUserDataFromBackend());\n  } catch (error) {\n    console.error(\"Error deleting user:\", error.response?.data?.message);\n  }\n};\n\n\n// Delete a user\n// export const deleteUserByAdmin = (id) => async (dispatch) => {\n//   try {\n//     await axios.delete(`http://localhost:4000/admin/user/${id}`);\n//     dispatch({ type: \"DELETE_USER_SUCCESS\", payload: id });\n//   } catch (error) {\n//     console.error(\"Error deleting user:\", error);\n//   }\n// };\n\n\n\n\n\n\n\n// Logout handler\nexport const Logouthandleraction = () => (dispatch) => {\n  localStorage.removeItem(\"token\");\n\n  dispatch({\n    type: \"LOGOUTUSER\",\n  });\n};\n\n// Login user actions\nexport const loginUser = (userId) => ({\n  type: \"GETUSERID\",\n  payload: userId,\n});\n\nexport const loginUserName = (userName) => ({\n  type: \"GETUSERNAME\",\n  payload: userName,\n});\n\n// Login admin actions\nexport const loginAdminId = (adminId) => ({\n  type: \"GETADMINID\",\n  payload: adminId,\n});\n\nexport const loginAdminName = (adminName) => ({\n  type: \"GETADMINNAME\",\n  payload: adminName,\n});"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAO,KAAKC,KAAK,MAAM,iBAAiB;;AAExC;AACA,OAAO,MAAMC,yBAAyB,GAAGA,CAAA,KAAM,MAAOC,QAAQ,IAAK;EACjE,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAE3CH,QAAQ,CAAC;IAAEI,IAAI,EAAEN,KAAK,CAACO;EAA0B,CAAC,CAAC;EAEnD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACU,GAAG,CAAC,+BAA+B,EAAE;MAChEC,OAAO,EAAE;QACPC,aAAa,EAAE,UAAUR,KAAK;MAChC;IACF,CAAC,CAAC;IAEFD,QAAQ,CAAC;MACPI,IAAI,EAAEN,KAAK,CAACY,yBAAyB;MACrCC,OAAO,EAAEL,QAAQ,CAACM,IAAI,CAAE;IAC1B,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA,IAAAC,eAAA,EAAAC,oBAAA;IACdf,QAAQ,CAAC;MACPI,IAAI,EAAEN,KAAK,CAACkB,yBAAyB;MACrCL,OAAO,EAAE,EAAAG,eAAA,GAAAD,KAAK,CAACP,QAAQ,cAAAQ,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBF,IAAI,cAAAG,oBAAA,uBAApBA,oBAAA,CAAsBE,OAAO,KAAI;IAC5C,CAAC,CAAC;EACJ;AACF,CAAC;;AAED;AACA,OAAO,MAAMC,iBAAiB,GAAIC,MAAM,IAAK,MAAOnB,QAAQ,IAAK;EAC/D,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAE3C,IAAI;IACF,MAAMN,KAAK,CAACuB,MAAM,CAAC,8BAA8BD,MAAM,EAAE,EAAE;MACzDX,OAAO,EAAE;QACPC,aAAa,EAAE,UAAUR,KAAK;MAChC;IACF,CAAC,CAAC;;IAEF;IACAD,QAAQ,CAACD,yBAAyB,CAAC,CAAC,CAAC;EACvC,CAAC,CAAC,OAAOc,KAAK,EAAE;IAAA,IAAAQ,gBAAA,EAAAC,qBAAA;IACdC,OAAO,CAACV,KAAK,CAAC,sBAAsB,GAAAQ,gBAAA,GAAER,KAAK,CAACP,QAAQ,cAAAe,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBT,IAAI,cAAAU,qBAAA,uBAApBA,qBAAA,CAAsBL,OAAO,CAAC;EACtE;AACF,CAAC;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAQA;AACA,OAAO,MAAMO,mBAAmB,GAAGA,CAAA,KAAOxB,QAAQ,IAAK;EACrDE,YAAY,CAACuB,UAAU,CAAC,OAAO,CAAC;EAEhCzB,QAAQ,CAAC;IACPI,IAAI,EAAE;EACR,CAAC,CAAC;AACJ,CAAC;;AAED;AACA,OAAO,MAAMsB,SAAS,GAAIP,MAAM,KAAM;EACpCf,IAAI,EAAE,WAAW;EACjBO,OAAO,EAAEQ;AACX,CAAC,CAAC;AAEF,OAAO,MAAMQ,aAAa,GAAIC,QAAQ,KAAM;EAC1CxB,IAAI,EAAE,aAAa;EACnBO,OAAO,EAAEiB;AACX,CAAC,CAAC;;AAEF;AACA,OAAO,MAAMC,YAAY,GAAIC,OAAO,KAAM;EACxC1B,IAAI,EAAE,YAAY;EAClBO,OAAO,EAAEmB;AACX,CAAC,CAAC;AAEF,OAAO,MAAMC,cAAc,GAAIC,SAAS,KAAM;EAC5C5B,IAAI,EAAE,cAAc;EACpBO,OAAO,EAAEqB;AACX,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}